(()=>{"use strict";var e={434:(e,n,t)=>{function o(e,n={},t=[]){console.log("Starting vnode creation with tag:",e,"props:",n,"raw children:",t),"string"==typeof t&&(t=[{type:"text",text:t}],console.log("Converted string children to text node array:",t));const o={type:"vnode",tag:e,props:n,children:t,el:null};return console.log("Created vnode:",o),o}t.d(n,{h:()=>o})},765:(e,n,t)=>{t.r(n),t.d(n,{createApp:()=>g,effect:()=>c,h:()=>i.h,onMounted:()=>s,reactive:()=>d,render:()=>p});const o=new WeakMap;let r=null;function d(e){return new Proxy(e,{get(e,n,t){const d=Reflect.get(e,n,t);return function(e,n){if(!r)return;let t=o.get(e);t||o.set(e,t=new Map);let d=t.get(n);d||t.set(n,d=new Set),d.add(r)}(e,n),d},set(e,n,t,r){const d=Reflect.set(e,n,t,r);return function(e,n){const t=o.get(e);if(!t)return;const r=t.get(n);r&&r.forEach(e=>e())}(e,n),d}})}function c(e){const n=()=>{r=e;const n=e();return r=null,n};return n(),n}var i=t(434);let l=null;function s(e){l&&l.hooks.mounted.push(e)}function a(e,n){e.hooks[n]&&e.hooks[n].forEach(n=>n.call(e))}function p(e,n){console.log("Rendering vnode:",e),n.innerHTML="";const t=u(e);return console.log("Created element:",t),n.appendChild(t),console.log("Render completed. Container content:",n.innerHTML),t}function u(e){if("text"===e.type)return document.createTextNode(e.text);if(console.log("Component check - tag type:",typeof e.tag,"has render:",!!e.tag?.render),"object"==typeof e.tag){if(console.log("Tag is object - render exists:",!!e.tag.render),e.tag.render)return console.log("Treating vnode as component"),function(e){console.log("Entering renderComponentVNode");const n=function(e,n){console.log("Creating component instance:",e);const t={component:e,props:d(n||{}),vnode:null,el:null,isMounted:!1,hooks:{mounted:[],updated:[],unmounted:[]}};return e.mounted&&t.hooks.mounted.push(e.mounted),t}(e.tag,e.props);if(n.render=function(){return console.error("Component render function not properly initialized",e.tag),{type:"div",children:["[Component Error: Render function not initialized]"]}},"object"==typeof e.tag&&null!==e.tag)if("function"==typeof e.tag.render)if(e.tag.setup)try{const t=e.tag.setup(n.props);"function"==typeof t?n.render=t.bind(n):"object"==typeof t&&null!==t?(n.setupState=t,n.render=e.tag.render.bind(n.setupState)):n.render=e.tag.render.bind(n)}catch(e){console.error("Error in component setup function:",e),n.render=function(){return{type:"div",children:[`[Component Error: Setup failed - ${e.message}]`]}}}else n.render=e.tag.render.bind(n);else console.error("Component is missing required render function:",e.tag),n.render=function(){return{type:"div",children:["[Component Error: Missing render function]"]}};else console.error("Invalid component definition:",e.tag),n.render=function(){return{type:"div",children:["[Component Error: Invalid component definition]"]}};return"function"!=typeof n.render&&(console.error("Final check failed: Component render is not a function",n),n.render=function(){return{type:"div",children:["[Component Error: Render function is not a function]"]}}),function(e){e.update=c(()=>{try{const n=e.render();if(!n)return console.error("Component render returned no vnode"),void(e.el=document.createTextNode("[Component render error: No vnode]"));if(!e.isMounted){const t=u(n);return e.el=t,e.vnode=n,a(e,"mounted"),e.isMounted=!0,t}{const t=e.vnode;e.vnode=n,function(e,n){if(e===n)return;if(e.tag!==n.tag)return void e.el.parentNode.replaceChild(u(n),e.el);if("text"===e.type)return void(e.el.textContent=n.text);const t=n.el=e.el,o=e.props||{},r=n.props||{};for(const e in r)r[e]!==o[e]&&f(t,e,r[e]);for(const e in o)e in r||t.removeAttribute(e);!function(e,n,t){e.innerHTML="",t&&t.forEach(n=>{"string"==typeof n?e.appendChild(document.createTextNode(n)):"vnode"===n.type&&e.appendChild(u(n))})}(t,e.children,n.children)}(t,n),a(e,"updated")}}catch(n){console.error("Component render error:",n),e.el=document.createTextNode(`[Component error: ${n.message}]`)}}),e.update()}(n),n.el}(e);console.log("Object tag has no render function")}else console.log("Treating vnode as element, tag:",e.tag);if("string"==typeof e.tag){const n=document.createElement(e.tag);if(e.el=n,e.props)for(const t in e.props)f(n,t,e.props[t]);return e.children&&1===n.nodeType&&e.children.forEach(e=>{if("string"==typeof e){const t=document.createTextNode(e);console.log("Appending text node with content:",t.textContent),n.appendChild(t)}else if("vnode"===e?.type){const t=u(e);try{if(!(t instanceof Node))throw new Error("Child element is not a valid Node");n.appendChild(t)}catch(e){console.error("Failed to append child element:",e,"Child element:",t);const o=document.createTextNode("[Error appending child element]");n.appendChild(o)}}else if("text"===e?.type){const t=document.createTextNode(e.text);console.log("Appending text node object with content:",t.textContent),n.appendChild(t)}else{const t=Object.prototype.toString.call(e);console.error("Invalid child type for appendChild:",t,e);const o=document.createTextNode(`[Invalid child: ${t}]`);n.appendChild(o)}}),n}return console.error("Invalid vnode tag type:",typeof e.tag),document.createTextNode(`[Invalid vnode tag: ${typeof e.tag}]`)}function f(e,n,t){if(n.startsWith("on")){const o=n.slice(2).toLowerCase();e.addEventListener(o,t)}else"class"===n?e.className=t:e.setAttribute(n,t)}function g(e){return{mount(n){const t=document.querySelector(n);console.log("Mounting to container:",t),t?p((0,i.h)(e,e.props,e.children),t):console.error(`Mount container not found: ${n}`)}}}}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var d=n[o]={exports:{}};return e[o](d,d.exports,t),d.exports}t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=t(765),r=t(434);console.log("main.js module loaded");const d={render(){return(0,r.h)("div",{class:"counter"},[(0,r.h)("h1",null,`Count: ${this.count}`),(0,r.h)("button",{onclick:()=>this.count++},"Increment")])},setup(){const e=(0,o.reactive)({count:0});return(0,o.onMounted)(()=>{console.log("Counter component mounted!")}),e}},c={render:()=>(console.log("Root component render called"),(0,r.h)("div",{id:"app"},[(0,r.h)("h1",null,"My Vue3-like Library"),(0,r.h)(d)]))};window.__XS_APP__||(window.__XS_APP__=!0,Promise.resolve().then(t.bind(t,765)).then(({createApp:e})=>{e(c).mount("#app")}))})();
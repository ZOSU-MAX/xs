(()=>{"use strict";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)},n={};e.d(n,{default:()=>p});const t=new WeakMap;let o=null;function r(e){return new Proxy(e,{get(e,n,r){const c=Reflect.get(e,n,r);return function(e,n){if(!o)return;let r=t.get(e);r||t.set(e,r=new Map);let c=r.get(n);c||r.set(n,c=new Set),c.add(o)}(e,n),c},set(e,n,o,r){const c=Reflect.set(e,n,o,r);return function(e,n){const o=t.get(e);if(!o)return;const r=o.get(n);r&&r.forEach(e=>e())}(e,n),c}})}function c(e){const n=()=>{o=e;const n=e();return o=null,n};return n(),n}function d(e,n={},t=[]){console.log("Starting vnode creation with tag:",e,"props:",n,"raw children:",t),"string"==typeof t&&(t=[{type:"text",text:t}],console.log("Converted string children to text node array:",t));const o={type:"vnode",tag:e,props:n,children:t,el:null};return console.log("Created vnode:",o),o}function i(e,n){e.hooks[n]&&e.hooks[n].forEach(n=>n.call(e))}function l(e,n){console.log("Rendering vnode:",e),n.innerHTML="";const t=s(e);return console.log("Created element:",t),n.appendChild(t),console.log("Render completed. Container content:",n.innerHTML),t}function s(e){if("text"===e.type)return document.createTextNode(e.text);if(console.log("Component check - tag type:",typeof e.tag,"has render:",!!e.tag?.render),"object"==typeof e.tag){if(console.log("Tag is object - render exists:",!!e.tag.render),e.tag.render)return console.log("Treating vnode as component"),function(e){console.log("Entering renderComponentVNode");const n=function(e,n){console.log("Creating component instance:",e);const t={component:e,props:r(n||{}),vnode:null,el:null,isMounted:!1,hooks:{mounted:[],updated:[],unmounted:[]}};return e.mounted&&t.hooks.mounted.push(e.mounted),t}(e.tag,e.props);if(n.render=function(){return console.error("Component render function not properly initialized",e.tag),{type:"div",children:["[Component Error: Render function not initialized]"]}},"object"==typeof e.tag&&null!==e.tag)if("function"==typeof e.tag.render)if(e.tag.setup)try{const t=e.tag.setup(n.props);"function"==typeof t?n.render=t.bind(n):"object"==typeof t&&null!==t?(n.setupState=t,n.render=e.tag.render.bind(n.setupState)):n.render=e.tag.render.bind(n)}catch(e){console.error("Error in component setup function:",e),n.render=function(){return{type:"div",children:[`[Component Error: Setup failed - ${e.message}]`]}}}else n.render=e.tag.render.bind(n);else console.error("Component is missing required render function:",e.tag),n.render=function(){return{type:"div",children:["[Component Error: Missing render function]"]}};else console.error("Invalid component definition:",e.tag),n.render=function(){return{type:"div",children:["[Component Error: Invalid component definition]"]}};return"function"!=typeof n.render&&(console.error("Final check failed: Component render is not a function",n),n.render=function(){return{type:"div",children:["[Component Error: Render function is not a function]"]}}),function(e){e.update=c(()=>{try{const n=e.render();if(!n)return console.error("Component render returned no vnode"),void(e.el=document.createTextNode("[Component render error: No vnode]"));if(!e.isMounted){const t=s(n);return e.el=t,e.vnode=n,i(e,"mounted"),e.isMounted=!0,t}{const t=e.vnode;e.vnode=n,function(e,n){if(e===n)return;if(e.tag!==n.tag)return void e.el.parentNode.replaceChild(s(n),e.el);if("text"===e.type)return void(e.el.textContent=n.text);const t=n.el=e.el,o=e.props||{},r=n.props||{};for(const e in r)r[e]!==o[e]&&a(t,e,r[e]);for(const e in o)e in r||t.removeAttribute(e);!function(e,n,t){e.innerHTML="",t&&t.forEach(n=>{"string"==typeof n?e.appendChild(document.createTextNode(n)):"vnode"===n.type&&e.appendChild(s(n))})}(t,e.children,n.children)}(t,n),i(e,"updated")}}catch(n){console.error("Component render error:",n),e.el=document.createTextNode(`[Component error: ${n.message}]`)}}),e.update()}(n),n.el}(e);console.log("Object tag has no render function")}else console.log("Treating vnode as element, tag:",e.tag);if("string"==typeof e.tag){const n=document.createElement(e.tag);if(e.el=n,e.props)for(const t in e.props)a(n,t,e.props[t]);return e.children&&1===n.nodeType&&e.children.forEach(e=>{if("string"==typeof e){const t=document.createTextNode(e);console.log("Appending text node with content:",t.textContent),n.appendChild(t)}else if("vnode"===e?.type){const t=s(e);try{if(!(t instanceof Node))throw new Error("Child element is not a valid Node");n.appendChild(t)}catch(e){console.error("Failed to append child element:",e,"Child element:",t);const o=document.createTextNode("[Error appending child element]");n.appendChild(o)}}else if("text"===e?.type){const t=document.createTextNode(e.text);console.log("Appending text node object with content:",t.textContent),n.appendChild(t)}else{const t=Object.prototype.toString.call(e);console.error("Invalid child type for appendChild:",t,e);const o=document.createTextNode(`[Invalid child: ${t}]`);n.appendChild(o)}}),n}return console.error("Invalid vnode tag type:",typeof e.tag),document.createTextNode(`[Invalid vnode tag: ${typeof e.tag}]`)}function a(e,n,t){if(n.startsWith("on")){const o=n.slice(2).toLowerCase();e.addEventListener(o,t)}else"class"===n?e.className=t:e.setAttribute(n,t)}const p={reactive:r,effect:c,h:d,createApp:function(e){return{mount(n){const t=document.querySelector(n);console.log("Mounting to container:",t),t?l(d(e,e.props,e.children),t):console.error(`Mount container not found: ${n}`)}}},onMounted:function(e){},render:l};window.XS=n.default})();